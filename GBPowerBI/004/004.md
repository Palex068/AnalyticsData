# Создание дашборда

# Содержание
+ [Введение](#введение)
+ [Компоненты PowerBI](#компоненты-powerbi)
    + [PowerBI Desktop](#powerbi-desktop)
    + [Служба PowerBI](#служба-powerbi)
+ [Интерфейс PowerBI](#интерфейс-powerbi)
+ [Блоки управления](#блоки-управления)
+ [Базовые правила оформления дашборда](#базовые-правила-оформления-дашборда)
    + [Расположение фильтров](#расположение-фильтров)
+ [Изменение формата страницы](#изменение-формата-страницы)
+ [Создание ссылок внутри отчёта](#создание-ссылок-внутри-отчёта)
+ [Кнопки](#кнопки)
+ [Размеры отчета](#размеры-отчета)
+ [Обратите внимание](#обратите-внимание)
+ [Вывод](#вывод)

[Содержание курса](/GBPowerBI/README.md)

# Введение

На этой лекции вы найдете ответы на такие вопросы как / узнаете:

+ Блоки управления
+ Расположение фильтров
+ Ссылки внутри отчета
+ Кнопки
+ Изменение размера дашборда

<hr>

[Содержание](#содержание)

# Компоненты PowerBI

## PowerBI Desktop

Основной инструмент разработчика – это PowerBI Desktop. Обычное приложение для Microsoft Windows. Версий для других операционных систем (MacOS, Linux) на данный момент не существует. Для работы на этих устройствах необходимо установить Windows, например через Parallels.

![004](/GBPowerBI/Pictures/004_001.png)

В PowerBI Desktop осуществляется подключение к источникам данных, очистка и подготовка данных, создание модели данных, написание мер и создание визуализаций.

__Внимание!__ PowerBI Desktop абсолютно бесплатен и не требует регистрации учетной записи. Для выполнения всех домашних заданий будет достаточно только этого компонента. 

Скачать и установить PowerBI Desktop можно из Microsoft Store или по [ссылке](https://www.microsoft.com/ru-RU/download/details.aspx?id=58494). 

Если у вас версия Windows ниже версии 8.1, то можно скачать любую версию PowerBI Desktop до декабря 2020 года по [ссылке](https://zenatti.net/2021/09/12/power-bi-2020-versions/), т.к. с января 2021 года Windows 7 не поддерживается. 

Для тех, кто работает на компьютерах с MacOS, [инструкция по установке](https://needfordata.ru/blog/polnotsennyj-excel-na-mac-pravila-vyzhivaniya).

<hr>

[Содержание](#содержание)

## Служба PowerBI

Для совместной работы требуется регистрация в веб-службе SaaS. В зависимости от типа лицензии учетной записи будут доступны те или иные инструменты для работы с данными.

После регистрации и назначения лицензии, учетной записи выделяется ёмкость – набор ресурсов для размещения и работы с данными PowerBI. 

Ёмкости делятся на два типа:
+ Общая – используется всеми пользователями Microsoft (типы лицензий: Free, Pro, PPU)
+ Выделенная – предназначена для одного клиента с Premium лицензией

От типа ёмкости и типа подписки зависит производительность публикуемых отчётов.

Публикация, администрирование и создание происходит в Рабочей области, которая также делится на два типа:
+ Моя рабочая область – предназначена для индивидуальной работы с содержимым
+ Рабочие области – необходимы для совместного использования наборов данных. Все участники должны иметь лицензию Pro или выше.

![004](/GBPowerBI/Pictures/004_002.png)

При публикации отчёта в службе PowerBI в рабочей области создаётся Набор данных.

Набор данных содержит все данные и источники, которые вы импортировали или к которым подключились при разработке отчёта. 

При этом сами наборы данных, также могут выступать источниками данных из потоков данных.

![004](/GBPowerBI/Pictures/004_003.png)

Набор данных, опубликованный в рабочей области, доступен участникам с ролями: Администратор, Член или Участник.

На основе наборов данных строятся отчёты – это одна или несколько страниц визуализаций: графики, карточки, диаграммы, таблицы.

Все опубликованные отчёты можно увидеть на отдельной вкладке в рабочей области

![004](/GBPowerBI/Pictures/004_004.png)

В зависимости от разрешений для учетной записи доступен просмотр отчётов или в режиме чтения, или в режиме правки. Для перехода в режим правки из режима чтения необходимо нажать соответствующую кнопку.

<hr>

[Содержание](#содержание)

# Интерфейс PowerBI
При работе в PowerBI Desktop пользователь взаимодействует со следующими основными элементами: лента, расположенная в верхней части окна и похожая на ленту приложений пакета Microsoft Ofice; панель слоёв отчёта – узкая панель, расположенная слева; панели настроек визуальных элементов, расположенные справа.

![004](/GBPowerBI/Pictures/004_005.png)

1.	Лента – на ней расположены все основные инструменты необходимые для создания отчёта:
    + добавление данных,
    + создание мер,
    + создание визуальных элементов,
    + настройка взаимодействия и представления (цветовой темы отчёта).
2.	Панель слоёв отчёта – состоит из трёх кнопок:
    + Отчёт – визуальный слой;
    + Данные – импортированные и вычисляемые таблицы, столбцы;
    + Модель – управление связями в модели данных.
3.	Панель «Фильтры» – дополнительные фильтры, которые устанавливаются как на весь отчёт, так и на отдельные страницы и визуальные элементы.<br>
Используется вместо или совместно с визуальным элементом «Срез»
4.	Панель «Выбор» – используется для управления видимостью и выбора визуальных элементов.
5.	Панель «Синхронизировать срезы» – используется для настройки взаимодействия между визуальным элементом «Срез», расположенных на разных страницах
6.	Панель «Закладки» – используется для создания сценариев навигации в отчёте.
7.	Панель «Анализатор производительности» – необходима для оптимизации отчёта. Показывает время затрачиваемое на отрисовку и выполнение запросов внутри каждого визуального элемента.
8.	Панель «Поля» – содержит список всех таблиц, полей и мер, которые добавлены или созданы в модели данных.
9.	Панель «Визуализации» – служит для добавления визуальных элементов на холст и их дальнейшего форматирования.

Внимание! По умолчанию активны только панели: «Фильтры», «Визуализации» и «Поля». Для включения остальных панелей необходимо их активировать, перейдя на ленте на вкладку «Представление».

![004](/GBPowerBI/Pictures/004_006.png)

Внимание! С версии февраль 2022 по умолчанию включена новая панель «Визуализации». Чтобы перейти к классической версии панели «Визуализации», необходимо на ленте перейти в Файл – Параметры и настройки – Параметры. 

![004](/GBPowerBI/Pictures/004_007.png)

Затем в разделе Глобальные – Предварительные версии возможностей – отключить «Новая панель формата»

![004](/GBPowerBI/Pictures/004_008.png)

После чего следует перезагрузить PowerBI Desktop, чтобы изменения вступили в силу.

<hr>

[Содержание](#содержание)

# Блоки управления

![004](/GBPowerBI/Pictures/004_015.PNG)

![004](/GBPowerBI/Pictures/004_016.PNG)

![004](/GBPowerBI/Pictures/004_017.PNG)

![004](/GBPowerBI/Pictures/004_018.PNG)

![004](/GBPowerBI/Pictures/004_019.PNG)

![004](/GBPowerBI/Pictures/004_020.PNG)

<hr>

[Содержание](#содержание)

# Базовые правила оформления дашборда

Для начала нам нужно рассмотреть 2 ключевых элемента, которые встречаются почти на каждом дашборде – это заголовок и фильтры.

__Заголовок__ – это аналог названия слайда в презентации и содержит короткое описание того, что анализируется в отчете.

__Фильтры__ – это условие, при выборе которого данные в отчете меняются и ограничивается показ данных.

На примере отчета KPMG мы видим, что заголовок расположен вверху по центру и крупно, а фильтр слева и для них выделена почти вся высота отчета. 

Такой формат подходит, когда у нас в отчете не много данных и много потенциально свободного места. 

Это один из наиболее распространенных подходов к визуализации, когда верх выделяют под заголовок, а левую или правую часть для фильтров.

![004](/GBPowerBI/Pictures/004_009.png)

На примере отчета по загруженности команды BI из Jira мы видим, что и заголовок и фильтры вынесены вверх отчета, а фильтры используются только раскрывающиеся. 

Этот подход помогает экономить место в отчете и хорошо помогает расположить остальные элементы, особенно если их много. Нужно учитывать, что в таком вариант можно расположить ограниченное количество фильтров. 

Если нам понадобится добавить еще 1 фильтр, то он, вероятно уже не поместится и нужно придумывать новое построение отчета.

![004](/GBPowerBI/Pictures/004_010.jpg)

На примере отчета по проектам мы видим, что заголовок небольшой и расположен вверху в отдельной строке, а сразу под ним расположены фильтры. Как мы видим в данном отчете большинство фильтров состоят из двух вариантов, поэтому такое расположение актуально.

![004](/GBPowerBI/Pictures/004_011.png)

<hr>

[Содержание](#содержание)

## Расположение фильтров

![004](/GBPowerBI/Pictures/004_021.PNG)

![004](/GBPowerBI/Pictures/004_022.PNG)

![004](/GBPowerBI/Pictures/004_023.PNG)

![004](/GBPowerBI/Pictures/004_024.PNG)

![004](/GBPowerBI/Pictures/004_025.PNG)




<hr>

[Содержание](#содержание)

# Изменение формата страницы
Когда у нас не выбран визуальных элемент, мы можем менять формат страницы через вкладку «Формат» под «Визуализациями»:


![004](/GBPowerBI/Pictures/004_012.png)

Здесь можно менять фон и формат области фильтров. Но чаще всего будет пригождаться изменение размера отчёта.
Если не получается вместить всё, что нужно, в одну страницу, то можно увеличить её размер или пропорции.

<hr>

[Содержание](#содержание)

# Создание ссылок внутри отчёта

![004](/GBPowerBI/Pictures/004_026.PNG)

Для некоторых элементов (кнопок, фигур, изображений) можно настроить действие, чтобы при клике пользователь переходил на другой элемент отчёта. Это добавляет интерактивности.


![004](/GBPowerBI/Pictures/004_013.png)

![004](/GBPowerBI/Pictures/004_027.PNG)

![004](/GBPowerBI/Pictures/004_028.PNG)

![004](/GBPowerBI/Pictures/004_029.PNG)


<hr>

[Содержание](#содержание)

# Кнопки

![004](/GBPowerBI/Pictures/004_030.PNG)

![004](/GBPowerBI/Pictures/004_031.PNG)

![004](/GBPowerBI/Pictures/004_032.PNG)

<hr>

[Содержание](#содержание)

# Размеры отчета

Когда нужно разместить много информации на одном слайде, размер дашборда можно увеличить

![004](/GBPowerBI/Pictures/004_033.PNG)

![004](/GBPowerBI/Pictures/004_034.PNG)

<hr>

[Содержание](#содержание)

# Подсказки

![004](/GBPowerBI/Pictures/004_035.PNG)

![004](/GBPowerBI/Pictures/004_036.PNG)

![004](/GBPowerBI/Pictures/004_037.PNG)

![004](/GBPowerBI/Pictures/004_038.PNG)

![004](/GBPowerBI/Pictures/004_039.PNG)

<hr>

[Содержание](#содержание)

# Детализация

![004](/GBPowerBI/Pictures/004_040.PNG)

![004](/GBPowerBI/Pictures/004_041.PNG)

![004](/GBPowerBI/Pictures/004_042.PNG)

<hr>

[Содержание](#содержание)

# Кастомные визуализации 

![004](/GBPowerBI/Pictures/004_043.PNG)

![004](/GBPowerBI/Pictures/004_044.PNG)

![004](/GBPowerBI/Pictures/004_045.PNG)

![004](/GBPowerBI/Pictures/004_046.PNG)

![004](/GBPowerBI/Pictures/004_047.PNG)

![004](/GBPowerBI/Pictures/004_048.PNG)

![004](/GBPowerBI/Pictures/004_049.PNG)

![004](/GBPowerBI/Pictures/004_050.PNG)

![004](/GBPowerBI/Pictures/004_051.PNG)

<hr>

[Содержание](#содержание)

# Обратите внимание
В Power BI есть некоторые особенности, которые часто являются проблемными на этапе создания дашборда:
1.	Форматы дат: по умолчанию ставится «Иерархия дат». Её нужно поменять на «Date», так как иначе данные будут суммироваться по каждому дню: например, 1 января + 1 февраля. Иерархия подходит, когда нам нужно суммировать периоды: кварталы разных лет или месяцы. 

![004](/GBPowerBI/Pictures/004_014.png)

2.	Формат чисел: нужно разделять тысячи пробелом - это поможет пользователю быстро понять порядок числе
3.	Визуальные элементы стоит сопровождать метками данных, чтобы пользователю было легче воспринимать информацию и не приходилось оценивать самому или наводить курсор на визуальный элемент - это также повышает нативность и скорость восприятия информации
4.	Оставляйте достаточно места для фильтров, чтобы можно было уместить достаточное их количество.

<hr>

[Содержание](#содержание)

# Вывод

Для того, чтобы создать итоговый дашборд, а не просто разрозненные визуальные элементы, в Power BI есть возможность увеличивать размер дашборда, скрывать и раскрывать элементы, делать всплывающие подсказки и кастомные элементы. Этот функционал позволяет создать итоговый продукт.

<hr>

[Содержание](#содержание)

<hr>

[Содержание](#содержание)

[Содержание курса](/GBPowerBI/README.md)

![004](/GBPowerBI/Pictures/004_001.png)